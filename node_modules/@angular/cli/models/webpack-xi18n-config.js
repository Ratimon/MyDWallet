"use strict";
const path = require('path');
const config_1 = require('./config');
const webpack_config_1 = require('./webpack-config');
const webpackMerge = require('webpack-merge');
const webpack_configs_1 = require('./webpack-configs');
class XI18nWebpackConfig extends webpack_config_1.NgCliWebpackConfig {
    constructor(extractOptions) {
        super({
            target: 'development',
            verbose: extractOptions.verbose,
            progress: extractOptions.progress
        });
        const configPath = config_1.CliConfig.configFilePath();
        const projectRoot = path.dirname(configPath);
        const appConfig = config_1.CliConfig.fromProject().config.apps[0];
        const extractI18nConfig = webpack_configs_1.getWebpackExtractI18nConfig(projectRoot, appConfig, extractOptions.genDir, extractOptions.i18nFormat);
        this.config = webpackMerge([this.config, extractI18nConfig]);
    }
}
exports.XI18nWebpackConfig = XI18nWebpackConfig;
//# sourceMappingURL=/Users/hansl/Sources/angular-cli/packages/@angular/cli/models/webpack-xi18n-config.js.map